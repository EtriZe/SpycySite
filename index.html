<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script type="text/javascript" src="js/tools.js"></script>
    <script type="text/javascript" src="js/twitchConnexion.js"></script>
    <script type="text/javascript" src="js/ressources.js"></script>
    <title> TooSpycySite </title>
</head>

<body>
    <div id="twitchConnected">Not Connected</div>

    <div class="leftnav">
        <div>
            <button class="active" id="home"><img class="twitchIcone" src="icones/twitch-icon.svg" style="width:7vw"/></button>
        </div>
        <div>
            <button>Musiques</button>
            <div class="sousMenu">
                <button id="musicProposal">Propositions</button>
                <button id="musicGalerie">Galerie</button>
            </div>
        </div>
        <div>
            <button>Galerie</button>
            <div class="sousMenu">
                <button id="artProposal">Propositions</button>
                <button id="artGalerie">Galerie</button>
            </div>
        </div>
        <div>
            <button id="cardCollection">Collection</button>
        </div>
    </div>

    <div class="mainScreen">
        <!-- Home by default -->
        <h1 style="color:white">Bienvenue sur le site de TooSpycy</h1>
    </div>
</body>
<script>
    
    //Gestion Menus
    document.querySelectorAll("button").forEach(element => {
        element.addEventListener('click', function (e) {
            //Remove all "active" class
            document.querySelectorAll(".active").forEach(element => {
                element.classList.remove("active");
            });

            element.classList.add("active");
            if( ! element.parentNode.classList.contains("sousMenu")){
                closeAllTabs();
            }
            openSousMenu(element);
        });
    });


    const mainContentDiv = document.getElementsByClassName("mainScreen")[0];

    //Home
    document.getElementById('home').addEventListener('click', function (e) {
        e.preventDefault(); // Empêche l'action par défaut du lien
        setNewHTML("html/home.html", mainContentDiv, loadHome);
    });

    //Musics galerie
    document.getElementById('musicGalerie').addEventListener('click', function (e) {
        e.preventDefault(); // Empêche l'action par défaut du lien
        setNewHTML("html/musicsGalerie.html", mainContentDiv, loadMusicGalerie);
    });

    //Musics proposal
    document.getElementById('musicProposal').addEventListener('click', function (e) {
        e.preventDefault(); // Empêche l'action par défaut du lien
        setNewHTML("html/musicsProposal.html", mainContentDiv, loadMusicProposal);
    });

    //Art Proposal
    document.getElementById('artProposal').addEventListener('click', function (e) {
        e.preventDefault(); // Empêche l'action par défaut du lien
        setNewHTML("html/artProposal.html", mainContentDiv, loadArtProposal);
    });

    //Art Galerie
    document.getElementById('artGalerie').addEventListener('click', function (e) {
        e.preventDefault(); // Empêche l'action par défaut du lien
        setNewHTML("html/artGalerie.html", mainContentDiv, loadArtGalerie);
    });

    //Card Collection
    document.getElementById('cardCollection').addEventListener('click', function (e) {
        e.preventDefault(); // Empêche l'action par défaut du lien
        setNewHTML("html/cardCollection.html", mainContentDiv, loadCardCollection);
    });


</script>

</html>