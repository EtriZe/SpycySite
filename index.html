<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script type="text/javascript" src="js/tools.js"></script>
    <script type="text/javascript" src="js/twitchConnexion.js"></script>
    <title> TooSpycySite </title>
</head>

<body>
    <div id="twitchConnected">Not Connected</div>

    <div class="topnav">
        <button class="active" id="home">Home</button>
        <button id="musicMenu">Musiques</button>
        <div class="sousMenu">
            <button id="musicProposal">Propositions</button>
            <button id="musicGalerie">Galerie</button>
        </div>
        <button>Galerie</button>
        <button>Collection</button>
    </div>



    <div class="mainScreen">
        <!-- Home by default -->
        <h1 style="color:white">Bienvenue sur le site de TooSpycy</h1>
    </div>
</body>
<script>

    document.getElementById('musicMenu').addEventListener('click', function (e) {
        e.preventDefault(); // Empêche l'action par défaut du lien
        var sousMenu = document.querySelector('.sousMenu');

        sousMenu.style.display = sousMenu.style.display === "none" ||
            sousMenu.style.display === ""
            ? "block" : "none";
        sousMenu.classList.toggle('show');

        //Remove all "active" class
        document.querySelectorAll(".active").forEach(element=>{
            element.classList.remove("active");
        });

        document.getElementById('musicMenu').classList.add("active");
    });


    const mainContentDiv = document.getElementsByClassName("mainScreen")[0];


    //Musics galerie
    document.getElementById('musicGalerie').addEventListener('click', function (e) {
        e.preventDefault(); // Empêche l'action par défaut du lien
        setNewHTML("html/musicsGalerie.html", mainContentDiv);
        loadJS("js/musicsGalerie.js", true);
    });

    //Musics proposal
    document.getElementById('musicProposal').addEventListener('click', function (e) {
        e.preventDefault(); // Empêche l'action par défaut du lien
        setNewHTML("html/musicsProposal.html", mainContentDiv);
        loadJS("js/musicsProposal.js", true);
    });

    //Home
    document.getElementById('home').addEventListener('click', function (e) {
        e.preventDefault(); // Empêche l'action par défaut du lien
        setNewHTML("html/home.html", mainContentDiv);
    });


</script>

</html>