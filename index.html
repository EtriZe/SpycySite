<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script type="text/javascript" src="js/tools.js"></script>
    <script type="text/javascript" src="js/twitchConnexion.js"></script>
    <title> TooSpycySite </title>
</head>

<body>
    <div id="twitchConnected">Not Connected</div>

    <div class="topnav">
        <div>
            <button class="active" id="home">Home</button>
        </div>
        <div>
            <button id="musicMenu">Musiques</button>
            <div class="sousMenu">
                <button id="musicProposal">Propositions</button>
                <button id="musicGalerie">Galerie</button>
            </div>
        </div>
        <div>
            <button>Galerie</button>
            <div class="sousMenu">
                <button id="artProposal">Propositions</button>
                <button id="artGalerie">Galerie</button>
            </div>
        </div>
        <div>
            <button>Collection</button>
        </div>
    </div>



    <div class="mainScreen">
        <!-- Home by default -->
        <h1 style="color:white">Bienvenue sur le site de TooSpycy</h1>
    </div>
</body>
<script>
    //Gestion Onglets
    document.querySelectorAll("button").forEach(element => {
        element.addEventListener('click', function (e) {
            //Remove all "active" class
            document.querySelectorAll(".active").forEach(element => {
                element.classList.remove("active");
            });

            element.classList.add("active");

            //TODO - METTRE DANS UNE FONCTION
            document.querySelectorAll(".sousMenu").forEach(sousmenu => {
                sousmenu.style.display = "none";
            });


            var sousMenu = element.parentNode.querySelector(".sousMenu");
            //TODO - METTRE DANS UNE FONCTION
            sousMenu.style.display = sousMenu.style.display === "none" ||
                sousMenu.style.display === ""
                ? "block" : "none";
            sousMenu.classList.toggle('show');
        });
    });


    const mainContentDiv = document.getElementsByClassName("mainScreen")[0];


    //Musics galerie
    document.getElementById('musicGalerie').addEventListener('click', function (e) {
        e.preventDefault(); // Empêche l'action par défaut du lien
        setNewHTML("html/musicsGalerie.html", mainContentDiv);
        loadJS("js/musicsGalerie.js", true);
    });

    //Musics proposal
    document.getElementById('musicProposal').addEventListener('click', function (e) {
        e.preventDefault(); // Empêche l'action par défaut du lien
        setNewHTML("html/musicsProposal.html", mainContentDiv);
        loadJS("js/musicsProposal.js", true);
    });

    //Home
    document.getElementById('home').addEventListener('click', function (e) {
        e.preventDefault(); // Empêche l'action par défaut du lien
        setNewHTML("html/home.html", mainContentDiv);
    });


</script>

</html>